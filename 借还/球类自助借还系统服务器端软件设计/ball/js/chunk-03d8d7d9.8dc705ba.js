(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03d8d7d9"],{6536:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"s-canvas"},[r("canvas",{attrs:{id:"s-canvas",width:e.contentWidth,height:e.contentHeight}})])},i=[],n=(r("cb29"),r("a9e3"),{name:"SIdentify",props:{fresh:!0,fontSizeMin:{type:Number,default:20},fontSizeMax:{type:Number,default:36},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:112},contentHeight:{type:Number,default:38}},data:function(){return{identifyCodes:"1234567890",identifyCode:""}},methods:{randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor:function(e,t){var r=this.randomNum(e,t),o=this.randomNum(e,t),i=this.randomNum(e,t);return"rgb("+r+","+o+","+i+")"},drawPic:function(){var e=document.getElementById("s-canvas"),t=e.getContext("2d");t.textBaseline="bottom",t.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),t.fillRect(0,0,this.contentWidth,this.contentHeight);for(var r=0;r<this.identifyCode.length;r++)this.drawText(t,this.identifyCode[r],r);this.drawDot(t)},drawText:function(e,t,r){e.fillStyle=this.randomColor(this.colorMin,this.colorMax),e.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var o=(r+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5),n=this.randomNum(-10,10);e.translate(o,i),e.rotate(n*Math.PI/180),e.fillText(t,0,0),e.rotate(-n*Math.PI/180),e.translate(-o,-i)},drawLine:function(e){for(var t=0;t<3;t++)e.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),e.beginPath(),e.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.stroke()},drawDot:function(e){for(var t=0;t<30;t++)e.fillStyle=this.randomColor(0,255),e.beginPath(),e.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),e.fill()},makeCode:function(e,t){this.identifyCode="";for(var r=0;r<t;r++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)];this.drawPic(),this.$emit("makedCode",this.identifyCode)}},watch:{fresh:function(){this.makeCode(this.identifyCodes,4)}}}),a=n,s=r("2877"),l=Object(s["a"])(a,o,i,!1,null,null,null);t["a"]=l.exports},"85bb":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"box"}},[r("el-card",{staticClass:"box-card"},[r("p",{staticStyle:{"text-align":"center"}},[e._v("注册")]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"昵称",prop:"names"}},[r("el-input",{model:{value:e.ruleForm.names,callback:function(t){e.$set(e.ruleForm,"names",t)},expression:"ruleForm.names"}})],1),r("el-form-item",{attrs:{label:"账号",prop:"username"}},[r("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"验证码"}},[r("veri",{ref:"veri",attrs:{fresh:e.flag},on:{makedCode:e.getMakedCode}}),r("el-input",{model:{value:e.ruleForm.veri,callback:function(t){e.$set(e.ruleForm,"veri",t)},expression:"ruleForm.veri"}})],1)],1),r("div",{staticStyle:{width:"100%",margin:"0 auto 30px auto"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.login}},[e._v("注册")])],1)],1)],1)},i=[],n=r("6536"),a={name:"Login",props:[""],data:function(){return{flag:!0,ruleForm:{username:"",password:"",names:"",veri:"",userImg:""},rules:{username:[{required:!0,message:"请填写账号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}],names:[{required:!0,message:"请填写昵称",trigger:"blur"}]},code:""}},methods:{login:function(){var e=this,t=this;this.ruleForm.veri!==this.code?(this.$message.error("验证码错误"),this.$refs.veri.makeCode("1234567890",4)):this.$refs.ruleForm.validate((function(r){if(!r)return console.log("error submit!!"),!1;delete e.ruleForm.veri,e.ruleForm.ids=Date.now(),t.$api.addUser(e.ruleForm,(function(e){e?t.$routerGo("/Login"):t.$message.error("已有此账号")}))}))},getMakedCode:function(e){console.log(e),this.code=e},refreshCode:function(){this.flag=!this.flag}},mounted:function(){this.$refs.veri.makeCode("1234567890",4)},created:function(){},components:{veri:n["a"]}},s=a,l=(r("c264"),r("2877")),d=Object(l["a"])(s,o,i,!1,null,"6e9c009d",null);t["default"]=d.exports},bd73:function(e,t,r){},c264:function(e,t,r){"use strict";var o=r("bd73"),i=r.n(o);i.a},cb29:function(e,t,r){var o=r("23e7"),i=r("81d5"),n=r("44d2");o({target:"Array",proto:!0},{fill:i}),n("fill")}}]);
//# sourceMappingURL=chunk-03d8d7d9.8dc705ba.js.map