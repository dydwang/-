(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53f60859"],{"110a":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"boxLogin"}},[o("el-card",{staticClass:"box-card"},[o("p",{staticStyle:{"text-align":"center"}},[t._v("登陆")]),o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"60px"}},[o("el-form-item",{attrs:{label:"账号",prop:"username"}},[o("el-input",{model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),o("el-form-item",{attrs:{label:"验证码"}},[o("veri",{ref:"veri",attrs:{fresh:t.flag},on:{makedCode:t.getMakedCode}}),o("el-input",{model:{value:t.ruleForm.veri,callback:function(e){t.$set(t.ruleForm,"veri",e)},expression:"ruleForm.veri"}})],1)],1),o("div",{staticStyle:{width:"100%",margin:"0 auto 30px auto"}},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.login}},[t._v("登陆")]),o("br")],1),o("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$routerGo("/signUp")}}},[t._v("注册")]),o("el-button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:function(e){return t.$routerGo("/admin_login")}}},[t._v("管理员登陆")])],1)],1)},i=[],n=o("6536"),a={name:"Login",props:[""],data:function(){return{flag:!0,ruleForm:{username:"",password:"",veri:""},code:"",rules:{username:[{required:!0,message:"请填写账号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}]}}},methods:{getMakedCode:function(t){console.log(t),this.code=t},refreshCode:function(){this.flag=!this.flag},login:function(){var t=this,e=this;this.ruleForm.veri!==this.code?(this.$message.error("验证码错误"),this.$refs.veri.makeCode("1234567890",4)):this.$refs.ruleForm.validate((function(o){if(!o)return console.log("error submit!!"),!1;delete t.ruleForm.veri,e.$api.login(t.ruleForm,(function(o){o.length?(e.$userInfo(o[0]),console.log(e.$userInfo()),t.$center.$emit("login",o[0]),t.$routerGo("/myInfo")):t.$message.error("账号或密码错误")}))}))}},mounted:function(){this.$refs.veri.makeCode("1234567890",4),console.log(sessionStorage.getItem("userInfo"))},created:function(){this.$userInfo.username&&this.$routerGo("/")},components:{veri:n["a"]}},s=a,l=(o("4a73"),o("2877")),u=Object(l["a"])(s,r,i,!1,null,"09410f82",null);e["default"]=u.exports},"4a73":function(t,e,o){"use strict";var r=o("a395"),i=o.n(r);i.a},6536:function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"s-canvas"},[o("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},i=[],n=(o("cb29"),o("a9e3"),{name:"SIdentify",props:{fresh:!0,fontSizeMin:{type:Number,default:20},fontSizeMax:{type:Number,default:36},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:112},contentHeight:{type:Number,default:38}},data:function(){return{identifyCodes:"1234567890",identifyCode:""}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var o=this.randomNum(t,e),r=this.randomNum(t,e),i=this.randomNum(t,e);return"rgb("+o+","+r+","+i+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var o=0;o<this.identifyCode.length;o++)this.drawText(e,this.identifyCode[o],o);this.drawDot(e)},drawText:function(t,e,o){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var r=(o+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5),n=this.randomNum(-10,10);t.translate(r,i),t.rotate(n*Math.PI/180),t.fillText(e,0,0),t.rotate(-n*Math.PI/180),t.translate(-r,-i)},drawLine:function(t){for(var e=0;e<3;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<30;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()},makeCode:function(t,e){this.identifyCode="";for(var o=0;o<e;o++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)];this.drawPic(),this.$emit("makedCode",this.identifyCode)}},watch:{fresh:function(){this.makeCode(this.identifyCodes,4)}}}),a=n,s=o("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);e["a"]=l.exports},a395:function(t,e,o){},cb29:function(t,e,o){var r=o("23e7"),i=o("81d5"),n=o("44d2");r({target:"Array",proto:!0},{fill:i}),n("fill")}}]);
//# sourceMappingURL=chunk-53f60859.e75e3c90.js.map